# Final output location for packaged datasets
final_output_folder: "./generated_datasets"

# ---------------------------------------------------------------------
# DEFAULTS (used unless overridden in each section)
# ---------------------------------------------------------------------
defaults:
  seed: 42

  dates:
    start: "2021-04-07"
    end: "2025-12-31"

  paths:
    geography: "./data/parquet_dims/geography.parquet"

# ---------------------------------------------------------------------
# SALES FACT GENERATION
# ---------------------------------------------------------------------
sales:
  parquet_folder: "./data/parquet_dims"
  out_folder: "./data/fact_out"

  total_rows: 5258300
  chunk_size: 2000000

  file_format: "parquet"          # csv | parquet | deltaparquet
  write_delta: true
  delta_output_folder: "./data/fact_out/delta"

  merge_parquet: true
  merged_file: "sales.parquet"
  delete_chunks: true

  row_group_size: 2000000
  compression: "zstd"

  heavy_pct: 5
  heavy_mult: 5

  workers: null               # auto-detect if null
  write_pyarrow: true
  tune_chunk: false

  skip_order_cols: true

  override:
    dates:
      end: "2025-10-31"
    seed: null

  partitioning:
    enabled: true
    columns: ["Year", "Month"]

# ---------------------------------------------------------------------
# PRODUCTS
# ---------------------------------------------------------------------
products:
  use_contoso_products: false
  num_products: 80210
  seed: 42

  pricing:
    base:
      value_scale: 0.2
      min_unit_price: 10
      max_unit_price: 5000

    cost:
      min_margin_pct: 0.2
      max_margin_pct: 0.45

    jitter:
      price_pct: 0.03
      cost_pct: 0.02

# ---------------------------------------------------------------------
# CUSTOMERS
# ---------------------------------------------------------------------
customers:
  total_customers: 223701

  pct_india: 1
  pct_us: 60
  pct_eu: 39
  pct_org: 2

  names_folder: "./data/customer_names"

  override:
    seed: null
    paths: {}
    dates: {}


# ---------------------------------------------------------------------
# GEOGRAPHY / LOCATIONS
# ---------------------------------------------------------------------
geography:
  target_rows: 200

  country_weights:
    United States: 0.35
    India: 0.20
    United Kingdom: 0.10
    Germany: 0.10
    France: 0.10
    Australia: 0.07
    Canada: 0.08
    China: 0.00
    Japan: 0.00
    South Africa: 0.00
    Rest: 0.00

  override:
    dates: {}
    paths: {}
    seed: null


# ---------------------------------------------------------------------
# PROMOTIONS
# ---------------------------------------------------------------------
promotions:
  num_seasonal: 21
  num_clearance: 8
  num_limited: 12

  override:
    dates:
      start: null      # null means: use defaults
      end: null
    seed: null


# ---------------------------------------------------------------------
# STORES / RETAIL OUTLETS
# ---------------------------------------------------------------------
stores:
  num_stores: 50

  opening:
    start: "1995-01-01"
    end: "2020-12-31"

  closing_end: "2025-12-31"

  override:
    seed: null
    paths: {}


# ---------------------------------------------------------------------
# DATES (Dimension)
# ---------------------------------------------------------------------
dates:
  fiscal_month_offset: 5

  include:
    calendar: true        # always true (safe default)
    iso: false            # ISO week columns
    fiscal: false         # fiscal year / quarter / month columns

  override:
    dates:
      start: "2020-01-01"     # optional, null = use defaults
      end:   "2026-12-31"     # optional, null = use defaults


# ---------------------------------------------------------------------
# EXCHANGE RATES
# ---------------------------------------------------------------------
exchange_rates:
  use_global_dates: true

  # Master FX history storage
  master_file: "./data/exchange_rates_master/fx_master.parquet"

  currencies: ["USD", "EUR", "INR", "GBP", "AUD", "CAD"]
  base_currency: "USD"
  volatility: 0.02

# Used only when use_global_dates = false
  override:
    dates:
      start: "2009-01-01"
      end: "2025-11-18"        # optional (ignored if use_global_dates=true)
    seed: null
